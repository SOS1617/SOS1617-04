<!DOCTYPE html>
<html ng-app="PriceManagerApp">

<head>
    <title>
        PriceApp
    </title>
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap-theme.min.css" type="text/css" />
    <script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="/bower_components/angular-route/angular-route.min.js"></script>
    <script type="text/javascript" src="/bower_components/angularUtils-pagination/dirPagination.js"></script>
    <script type="text/javascript" src="/bower_components/bootbox.js/bootbox.js"></script>
    <script type="text/javascript" src="/price-manager.js"></script>
    <script type="text/javascript" src="/price/list-ctrl.js"></script>
    <script type="text/javascript" src="/price/edit-ctrl.js"></script>
</head>

<body>
    <div ng-controller="ListCtrl">
        <h2>Price Stats</h2>
        <button class="button btn btn-primary" ng-click="loadInitial()">Load Initial Data</button>


        <br><br> <span class="glyphicon glyphicon-search"></span><input type="text" name="search" ng-model="test" placeholder="Search..">

        <br><br>Insert ApiKey<input class="form-control" ng-model="api" />
        <button class="button btn btn-primary" ng-click="setApikey(api)">Send</button>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Province</th>
                    <th>Year</th>
                    <th>priceaceite</th>
                    <th>priceextra</th>
                    <th>pricevirgen</th>
                    <th>ACTIONS</th>
                    <th>DELETE</th>
                </tr>
            </thead>
            <tbody>
            <tr>
                    <td><input class="form-control" ng-model="newStat.province" /></td>
                    <td><input class="form-control" ng-model="newStat.year" /></td>
                    <td><input class="form-control" ng-model="newStat.priceaceite" /></td>
                    <td><input class="form-control" ng-model="newStat.priceextra" /></td>
                    <td><input class="form-control" ng-model="newStat.pricevirgen" /></td>
                <td><button class="button btn btn-primary" ng-click="addStat()">Add</button></td>
                <td></td>
            </tr>
            <div>
                <tr dir-paginate="stat in stats |itemsPerPage: pageSize|filter:test1 |filter:test2 |filter:test3 |filter:test4 |filter:test5" current-page="currentPage">
                    <td><a href="#!/price-stats/{{stat.province}}/{{stat.year}}">{{stat.province}}</a></td>
                    <td>{{stat.province}}</td>
                    <td>{{stat.year}}</td>
                    <td>{{stat.priceaceite}}</td>
                    <td>{{stat.priceextra}}</td>
                    <td>{{stat.pricevirgen}}</td>
                    <td><button class="button btn btn-danger" ng-click="deleteStat(stat.province,stat.year)">Delete</button></td>

                </tr>
            </div>

        </tbody>
            <tfoot>
                <td colspan="3">
                    <div class="pagination">
                        <ul>
                            <button class="button btn btn-success" ng-click="prevPage()"><span class="glyphicon glyphicon-triangle-left" aria-hidden="true"></span>Prev</a></button>
                            </li>
                            <li ng-repeat="n in range()" ng-class="{active: n == currentPage}" ng-click="setPage(n)">
                                <a href="#">{{n+1}}</a>
                            </li>
                            <button class="button btn btn-success" ng-click="nextPage()"> Next<span class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span></a>
                            </li>
                        </ul>
                        View <select class="btn dropdown-toggle btn-default" ng-model="viewby" ng-change="setItemsPerPage(viewby)">
                            <option>3</option><option>5</option><option>10</option><option>20</option><option>30</option><option>40</option><option>50</option>
                        </select> stats at a time.

                    </div>
                    
                </td>
            </tfoot>

        </table>
        <td><button class="button btn btn-danger btn-lg" ng-click="deleteAll()">Delete All</button></td>
               <br><br> <select class="btn dropdown-toggle btn-default"> <option>The apikey is</option><option>12345</option></select>

                </div>
</body>

</html>